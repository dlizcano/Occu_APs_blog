"0",""
"0","# make sf()"
"0","full_sites_14_15_16_sf <- CToperation |> "
"0","    st_as_sf(coords = c(""Longitude"", ""Latitude""), "
"0","              crs = 4326)"
"0",""
"0","# extract elev"
"0","full_sites_14_15_16_sf$elev <- terra::extract(elevation_14, full_sites_14_15_16_sf)[,2]"
"0","str(full_sites_14_15_16_sf$elev)"
"1"," num [1:87] "
"1",""
"1","802 1149 751 646 1051"
"1",""
"1"," ..."
"1",""
"1","
"
"0","# extract in AP"
"0","full_sites_14_15_16_sf$in_AP = as.factor(st_intersects(full_sites_14_15_16_sf, AP_Llanganates, sparse = FALSE))"
"0",""
"0","in_AP <- as.numeric(as.vector(st_drop_geometry(full_sites_14_15_16_sf$in_AP)))"
"2","Aviso: NAs introducidos por coerciÃ³n"
"0","# mapview(full_sites_14_15_16_sf, zcol = ""in_AP"", burst = TRUE)"
"0",""
"0","# Transform coord to UTM Z17 Ecuador EPSG:32717 WGS 84 / UTM zone 17S"
"0","full_sites_14_15_16_sf_UTM <- st_transform(full_sites_14_15_16_sf, ""EPSG:32717"")"
"0",""
"0","coords <- st_coordinates(full_sites_14_15_16_sf_UTM)"
"0","#str(coords)"
"0",""
"0","# make Ecu_14_15_16 an sf object"
"0","#    cam_sf <- st_as_sf(Ecu_14_15_16, coords = c(""lon"",""lat""))   #crs=""EPSG:4326"")"
"0","    #--- set CRS ---#"
"0","#    st_crs(cam_sf) <- 4326"
"0",""
"0","#transform llanganates to UTM"
"0","AP_Llanganates_UTM <- st_transform(AP_Llanganates, ""EPSG:32717"")"
"0","# Convert to LINESTRING"
"0","AP_Llanganates_UTM_line <- st_cast(AP_Llanganates_UTM, ""LINESTRING"")"
"2","Aviso: repeating attributes for all sub-geometries for which they may not be constant"
"0","# Calculate the distance"
"0","#multiplic <- full_sites_14_15_16_sf_UTM |> mutate(multiplic= as.numeric(in_AP)) "
"0","multiplic=ifelse(full_sites_14_15_16_sf_UTM$in_AP==""TRUE"",-1,1)"
"0","full_sites_14_15_16_sf_UTM$border_dist <- as.numeric(st_distance(full_sites_14_15_16_sf_UTM, AP_Llanganates_UTM_line) * multiplic )"
"0","# print(border_dist)"
"0",""
"0","str(full_sites_14_15_16_sf_UTM$border_dist)"
"1"," num [1:87] "
"1",""
"1","399 1749 5432 1255 17612"
"1",""
"1"," ..."
"1",""
"1","
"
"0","                    "
"0",""
